---
import { Image } from 'astro:assets';

interface Props {
  src: string;
  alt: string;
  width?: number;
  height?: number;
  class?: string;
}

const { src, alt, width, height, class: className } = Astro.props;
---

<figure class={`optimized-image ${className || ''}`}>
  <img 
    src={src} 
    alt={alt} 
    width={width} 
    height={height} 
    loading="lazy"
    decoding="async"
  />
  {alt && <figcaption>{alt}</figcaption>}
</figure>

<style>
  .optimized-image {
    margin: 1.5rem 0;
    text-align: center;
  }

  .optimized-image img {
    max-width: 100%;
    height: auto;
    border-radius: 0.5rem;
  }

  figcaption {
    font-size: 0.875rem;
    color: var(--sl-color-gray-3);
    margin-top: 0.5rem;
  }
</style>
